<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>USE Fitness Dashboard</title>
  <link rel="stylesheet" href="css/styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
</head>
<body>
<!-- Header Section -->
<header class="header">
  <h1>USE Fitness Dashboard</h1>
  <p>Analysis and Visualization of Software Quality Metrics</p>
  <nav class="navigation">
    <ul>
      <li><a href="index.html" class="active">Dashboard</a></li>
      <li><a href="history.html">History</a></li>
    </ul>
  </nav>
  <div class="last-updated" id="lastUpdated">
    <span>Loading update info...</span>
  </div>
</header>

<div class="container">
  <!-- Overview Section -->
  <section class="info-section">
    <h2>Dashboard Overview</h2>
    <p>This dashboard provides detailed insights into the software quality metrics of the USE project.
      The diagrams below highlight key aspects of the structure of the codebase and its evolution over time.
      The metrics represent this branch only, no other branches are taken into consideration.
      The goal of this dashboard is to encourage developers to pay attention to how their changes impact architecture
      and to eventually guide them to adopt an evolutionary architecture approach according to <a href="https://evolutionaryarchitecture.com/index.html" target="_blank">Neal Ford et.al.</a></p>
  </section>

  <!-- Main Dashboard Grid -->
  <div class="dashboard-grid">
    <!-- Cycles No Tests Card -->
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">Cyclic Dependencies with & without Tests</h3>
      </div>
      <p class="card-description">
        Tracks the number of dependency cycles in the codebase (excluding tests) over time,
        helping identify architectural improvements or degradation.
      </p>
      <div class="chart-container">
        <canvas id="cyclesOverTimeChart"></canvas>
      </div>
    </div>

    <!-- Cycles No Tests Breakdown Card -->
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">Breakdown of Cycles per Package Excluding Tests</h3>
      </div>
      <p class="card-description">
        Distribution of cyclic dependencies across different packages (no tests) for the most current archunit test run.
      </p>
      <div class="chart-container">
        <canvas id="cyclesBreakdownChart"></canvas>
      </div>
    </div>

    <!-- Cycles With Tests Breakdown Card -->
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">Breakdown of Cycles per Package Incl. Tests</h3>
      </div>
      <p class="card-description">
        Distribution of cyclic dependencies across all different packages (with tests) for the most current archunit test run.
      </p>
      <div class="chart-container">
        <canvas id="cyclesWithTestsBreakdownChart"></canvas>
      </div>
    </div>

    <!-- Layer Violations Card -->
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">Layered Architecture Violations</h3>
      </div>
      <p class="card-description">
        Analysis of violations of USE's Layered Architecture, highlighting architectural trends over time.
      </p>
      <div class="chart-container">
        <canvas id="layerViolationsChart"></canvas>
      </div>
    </div>

    <!-- Buildtime Card -->
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">Build Time</h3>
      </div>
      <p class="card-description">
        Comparison of different architectural metrics across versions
        or components of the system.
      </p>
      <div class="chart-container">
        <canvas id="comparativeMetricsChart"></canvas>
      </div>
    </div>
  </div>

  <!-- Additional Information Section -->
  <section class="info-section">
    <h2>Interpretation Guide</h2>
    <p>The metrics displayed above help in understanding the architectural health of the system:
      Lower cycle counts generally indicate better architectural design, while trending metrics
      show the evolution of the system over time. Use these insights to guide refactoring
      efforts and architectural decisions.</p>
  </section>
</div>

<script src="js/scripts.js"></script>
</body>
</html>